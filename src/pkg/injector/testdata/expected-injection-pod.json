{
  "kind": "Pod",
  "apiVersion": "v1",
  "metadata": {
    "name": "injector",
    "namespace": "zarf",
    "labels": {
      "app": "zarf-injector",
      "zarf.dev/agent": "ignore",
      "zarf.dev/package": "test"
    }
  },
  "spec": {
    "volumes": [
      {
        "name": "init",
        "configMap": {
          "name": "rust-binary",
          "defaultMode": 511
        }
      },
      {
        "name": "seed",
        "emptyDir": {}
      }
    ],
    "containers": [
      {
        "name": "injector",
        "image": "docker.io/library/ubuntu:latest",
        "command": [
          "/zarf-init/zarf-injector"
        ],
        "workingDir": "/zarf-init",
        "resources": {
          "limits": {
            "cpu": "1",
            "memory": "256Mi"
          },
          "requests": {
            "cpu": "500m",
            "memory": "64Mi"
          }
        },
        "volumeMounts": [
          {
            "name": "init",
            "mountPath": "/zarf-init/zarf-injector",
            "subPath": "zarf-injector"
          },
          {
            "name": "seed",
            "mountPath": "/zarf-seed"
          }
        ],
        "readinessProbe": {
          "httpGet": {
            "path": "/v2/",
            "port": 5000
          },
          "periodSeconds": 2,
          "successThreshold": 1,
          "failureThreshold": 10
        },
        "imagePullPolicy": "IfNotPresent",
        "securityContext": {
          "capabilities": {
            "drop": [
              "ALL"
            ]
          },
          "runAsNonRoot": true,
          "readOnlyRootFilesystem": true,
          "allowPrivilegeEscalation": false
        }
      }
    ],
    "restartPolicy": "Never",
    "terminationGracePeriodSeconds": 1,
    "nodeName": "injection-node",
    "securityContext": {
      "runAsUser": 1000,
      "runAsGroup": 2000,
      "fsGroup": 2000,
      "seccompProfile": {
        "type": "RuntimeDefault"
      }
    }
  }
}
