kind: ZarfPackageConfig
metadata:
  name: test-values
  description: Minimal test package for values feature

values:
  files:
    - values.yaml

components:
  - name: test-import-values-component
    description: Component that imports values from another package
    required: true
    import:
      path: import
      name: test-import-component

  - name: test-values-component
    required: true
    actions:
      onDeploy:
        before:
          - cmd: echo '{"myKey":"myValue"}'
            setValues:
              - key: .json
                type: json
          - cmd: >
              echo 'myKey: myValue'
            setValues:
              - key: .yaml
                type: yaml
    manifests:
      - name: test-configmap
        template: true
        files:
          - configmap.yaml
      - name: test-action-configmap
        template: true
        files:
          - action-configmap.yaml
      - name: test-import-configmap
        template: true
        files:
          - import-test-configmap.yaml
