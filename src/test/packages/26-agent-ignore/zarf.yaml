kind: ZarfPackageConfig
metadata:
  name: agent-ignore-namespace
  description: Simple test to check that Zarf respects ignored namespaces.

components:
  - name: podinfo-deployment
    required: true
    manifests:
      - name: agent-ignore-podinfo
        namespace: podinfo-ignored
        files:
          - manifests/deployment.yaml
          - manifests/namespace.yaml
    actions:
      onDeploy:
        after:
          - wait:
              cluster:
                kind: deployment
                name: podinfo-deployment
                namespace: podinfo-ignored
                condition: "{.status.readyReplicas}=2"
