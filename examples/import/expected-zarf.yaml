kind: ZarfPackageConfig
metadata:
  name: example-package
  architecture: amd64
components:
- name: jq-amd64
  description: Deploy ./bin/jq bin for use in other components
  required: true
  only:
    localOS: linux
  files:
  - source: https://github.com/stedolan/jq/releases/latest/download/jq-linux64
    target: ./bin/jq
    executable: true
- name: jq-darwin
  description: Deploy ./bin/jq bin for use in other components
  required: true
  only:
    localOS: darwin
  files:
  - source: https://github.com/stedolan/jq/releases/latest/download/jq-osx-amd64
    target: ./bin/jq
    executable: true
- name: child-jq-command
  required: true
  actions:
    onDeploy:
      before:
      - cmd: |
          echo "I'm doing something cool with JQ"
          echo "{}" | ./bin/jq
- name: jq-command
  actions:
    onDeploy:
      defaults:
        mute: true
      before:
      - cmd: |
          echo "I'm doing something cool with JQ too!"
          echo "{}" | ./bin/jq
